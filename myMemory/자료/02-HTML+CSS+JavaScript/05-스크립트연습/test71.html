<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="http://cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">

    <style>
        .accordion{width: 100%; border: none; cursor: pointer; text-align: left; padding: 20px;}
        .accordion:hover{background-color: aqua;}

        .accordion .xi-angle-down::before{
            content: "\e941"; float: right; font-size: 18px;
            transition: transform 0.3s ease-out;
        }
        .accordion.active .xi-angle-down::before{transform: rotate(180deg);}

        .panel{max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out;}
    </style>

</head>
<body>
    <button class="accordion">
        메뉴1 
        <i class="xi-angle-down"></i>

    </button>
    <div class="panel">내용1번</div>

    <button class="accordion">
        메뉴2 
        <i class="xi-angle-down"></i>

    </button>
    <div class="panel">
        내용2번<br>
        내용2번 두번째줄<br>
        내용2번 세번째줄<br>
        내용2번 네번째줄<br>
        내용2번 다섯번째줄
    </div>

    <button class="accordion">메뉴3 
        <i class="xi-angle-down"></i>

    </button>
    <div class="panel">내용3번</div>


    <script>
        const acc = document.getElementsByClassName("accordion")
        
        console.log(acc)
        console.log(acc.length)

        console.log( acc[0] )
        console.log( acc[1] )
        console.log( acc[2] )

        for( let i = 0; i < acc.length ; i++ ){
            acc[i].addEventListener('click' , function(){
                this.classList.toggle('active')
                const panel = this.nextElementSibling
                console.log(panel)
                console.log( panel.style.maxHeight )
                console.log( panel.scrollHeight )

                if( panel.style.maxHeight ){ // maxHeight값이 있으면
                    panel.style.maxHeight = null; // maxHeight값을 제거(없애라)하고   
                }else{// maxHeight값이 없으면
                    panel.style.maxHeight = panel.scrollHeight + 'px' 
                    // 글줄의 높이만큼을 maxHeight에 대입해라
                }
            })
        }

    </script>
</body>
</html>